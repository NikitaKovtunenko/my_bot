1) Logger singleton -- пробовать сделать многопоточным, либо Multiton, будет логгер для базы данных и для bota 
2) для базы данных используем Connection pool подумать над многопоточностью, tread pool, обслуживают поток запросов, нужно ограничить количество потоков 
Будет очередь потоков , lock_free очередь

3) Пулл одиночек 
TAG main, db 

В instance будет map c логерами

Посмотреть что такое std::cerr 